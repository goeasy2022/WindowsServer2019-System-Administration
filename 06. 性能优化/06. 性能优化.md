# 性能优化

# 1. 任务管理器检测系统瓶颈

应用: 当前登录用户打开的前台程序.

![image-20240326225236620](06. 性能优化.assets/image-20240326225236620.png)

后台进程: 在后台运行的程序, 一般是服务.

![image-20240326225253026](06. 性能优化.assets/image-20240326225253026.png)

如何发现某个前台程序占用CPU或者内存过多, 那么可以考虑在不影响服务正常运行的前提下, 杀死前台进程. 

杀死进程前, 可以查看程序文件的存放位置.

![image-20240326225630194](06. 性能优化.assets/image-20240326225630194.png)

![image-20240326225702917](06. 性能优化.assets/image-20240326225702917.png)

如果计算机中, 有病毒木马, 或者不知道占用大量资源的程序存放在了哪里, 可以使用此方法定位程序文件.

Windows系统可以通过任务管理器中的性能管理页面来查看系统运行的瓶颈, 然后根据不同的瓶颈进行操作. 内存小就加内存, CPU性能不行就增加CPU核数, 网络不行就加带宽, 上万兆等.

![image-20240326230512250](06. 性能优化.assets/image-20240326230512250.png)

# 2. 资源监视器监控系统性能

![image-20240421234725712](06. 性能优化.assets/image-20240421234725712.png)

![image-20240421234801574](06. 性能优化.assets/image-20240421234801574.png)

# 3. 性能计数器监控系统性能

![image-20240421235520712](06. 性能优化.assets/image-20240421235520712.png)

![image-20240421235544581](06. 性能优化.assets/image-20240421235544581.png)

![image-20240421235558241](06. 性能优化.assets/image-20240421235558241.png)

![image-20240421235729691](06. 性能优化.assets/image-20240421235729691.png)

![image-20240421235808913](06. 性能优化.assets/image-20240421235808913.png)

![image-20240421235839564](06. 性能优化.assets/image-20240421235839564.png)

![image-20240421235853958](06. 性能优化.assets/image-20240421235853958.png)

![image-20240421235904662](06. 性能优化.assets/image-20240421235904662.png)

案例: 给计算机做一个磁盘整理, 查看磁盘利用率报告.

![image-20240422000039554](06. 性能优化.assets/image-20240422000039554.png)

开启磁盘优化前的状态.

![image-20240422000100645](06. 性能优化.assets/image-20240422000100645.png)

开启优化时.

![image-20240422000200360](06. 性能优化.assets/image-20240422000200360.png)

案例: 系统诊断

通过系统自动诊断, 找到系统瓶颈.

![image-20240422000355606](06. 性能优化.assets/image-20240422000355606.png)

![image-20240422000405655](06. 性能优化.assets/image-20240422000405655.png)

查看报告.

![image-20240422000533892](06. 性能优化.assets/image-20240422000533892.png)

# 4. 管理Windows日志, 日志订阅集中管理分析日志

![image-20240422001210400](06. 性能优化.assets/image-20240422001210400.png)

![image-20240422001552112](06. 性能优化.assets/image-20240422001552112.png)

筛选日志.

![image-20240422001631552](06. 性能优化.assets/image-20240422001631552.png)

日志归档.

![image-20240422001705799](06. 性能优化.assets/image-20240422001705799.png)

日志文件保存后, 可以直接双击打开.

![image-20240422001752352](06. 性能优化.assets/image-20240422001752352.png)

指定日志文件大小.

![image-20240422002017918](06. 性能优化.assets/image-20240422002017918.png)

指定大小后, 日志一旦满了, 可以进行如下操作.

![image-20240422002043077](06. 性能优化.assets/image-20240422002043077.png)

订阅日志.

可以在一台服务器上, 订阅其他服务器的日志, 相当于把其他服务器的日志收集到本地, 便于分析.

![image-20240422002617984](06. 性能优化.assets/image-20240422002617984.png)

![image-20240422002648526](06. 性能优化.assets/image-20240422002648526.png)

收集WS2019-53的日志到本地.

![image-20240422003529552](06. 性能优化.assets/image-20240422003529552.png)

![image-20240422003731181](06. 性能优化.assets/image-20240422003731181-17137102515412.png)

![image-20240422003750839](06. 性能优化.assets/image-20240422003750839.png)

![image-20240422003849666](06. 性能优化.assets/image-20240422003849666-17137103300613.png)

![image-20240422003922265](06. 性能优化.assets/image-20240422003922265.png)

![image-20240422003933214](06. 性能优化.assets/image-20240422003933214-17137103733824.png)

查看订阅的日志.

订阅的日志会被存放到Forwarded Events中, 但是需要等一段时间才会收集完毕.

![image-20240422004229346](06. 性能优化.assets/image-20240422004229346.png)
